<?php class Controller_User_Account extends ypController {	public function Index() {		if (!$this->User->isLogin()) {			$this->redirect($this->Link->build('Login', TRUE));		}		$this->loadLanguage('User/Account');		$this->Document->setTitle($this->_data['title']);		$userInfo = $this->User->getUserInfo();		if (!$userInfo) {			$this->redirect($this->Link->build('Index/Home', TRUE));		}		if ($this->User->isAdmin()) {			$link['admin'] = $this->Link->a('Admin/Index/Home', $this->_data['text_admincp']);		}		$link['account'] = $this->Link->a('User/Account', $this->_data['text_account']);		$link['changepass'] = $this->Link->a('User/ChangePass', $this->_data['text_changepass']);		$link['changeemail'] = $this->Link->a('User/ChangeEmail', $this->_data['text_changeemail']);		$link['logout'] = $this->Link->a('User/Logout', $this->_data['text_logout']);		$this->set('user', $userInfo);		$this->set('link', $link);		$this->setTemplate('module/User/Account.php');		$this->setTemplateChild(array(			'System/Header',			'System/Footer'		));		$this->Response->setOutput($this->render());	}}